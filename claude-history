#!/usr/bin/env python3
"""
claude-history - Backward compatibility wrapper for agent-history

This script provides backward compatibility for users who have scripts or
muscle memory using 'claude-history'. It simply forwards all arguments to
'agent-history'.
"""

import subprocess
import sys
from pathlib import Path

# Find agent-history in the same directory as this script
script_dir = Path(__file__).resolve().parent
agent_history = script_dir / "agent-history"

if not agent_history.exists():
    sys.stderr.write(f"Error: agent-history not found at {agent_history}\n")
    sys.exit(1)

# Execute agent-history with the same arguments
# Use subprocess.run instead of os.execv for Windows compatibility (handles paths with spaces)
result = subprocess.run(
    [sys.executable, str(agent_history)] + sys.argv[1:],
    check=False,
)
sys.exit(result.returncode)
